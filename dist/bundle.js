(()=>{var t={991:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,s=a(t),o=s[0],u=s[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,u)),l=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=16383,a=0,c=r-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));1===i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,s,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48:(t,e,n)=>{"use strict";const r=n(991),i=n(318),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=u,e.IS=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=function(t){if(u.isBuffer(t)){const e=0|d(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?a(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return l(t),a(t<0?0:0|d(t))}function h(t){const e=t.length<0?0:0|d(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function d(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(i)return r?-1:q(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let s,o=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let r=-1;for(s=n;s<a;s++)if(c(t,s)===c(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===u)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){let n=!0;for(let r=0;r<u;r++)if(c(t,s+r)!==c(e,r)){n=!1;break}if(n)return s}return-1}function v(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(Y(r))return o;t[n+o]=r}return o}function E(t,e,n,r){return X(q(e,t.length-n),t,n,r)}function x(t,e,n,r){return X(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function N(t,e,n,r){return X(W(e),t,n,r)}function A(t,e,n,r){return X(function(t,e){let n,r,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=n){let n,r,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:n=t[i+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(s=u));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return f(t)},u.allocUnsafeSlow=function(t){return f(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(K(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(K(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.IS;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(K(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0);const a=Math.min(s,o),c=this.slice(r,i),l=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==l[t]){s=c[t],o=l[t];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return x(this,t,e,n);case"base64":return N(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function B(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=H[t[r]];return i}function R(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function _(t,e,n,r,i){V(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function U(t,e,n,r,i){V(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function $(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,s){return e=+e,n>>>=0,s||$(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,s){return e=+e,n>>>=0,s||$(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||J(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||J(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=e,i=1,s=this[t+--r];for(;r>0&&(i*=256);)s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||J(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Z((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||J(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){P(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Z((function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(t,e=0){return U(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,s=1,o=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Z((function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(t,e=0){return U(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%o]}return this};const L={};function M(t,e,n){L[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function D(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function V(t,e,n,r,i,s){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new L.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||J(e,t.length-(n+1))}(r,i,s)}function z(t,e){if("number"!=typeof t)throw new L.ERR_INVALID_ARG_TYPE(e,"number",t)}function J(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new L.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=D(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function q(t,e){let n;e=e||1/0;const r=t.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function W(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const H=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},282:t=>{t.exports=o,o.default=o,o.stable=l,o.stableStringify=l;var e="[...]",n="[Circular]",r=[],i=[];function s(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(t,e,n,o){var a;void 0===o&&(o=s()),u(t,"",0,[],void 0,0,o);try{a=0===i.length?JSON.stringify(t,e,n):JSON.stringify(t,h(e),n)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var c=r.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function a(t,e,n,s){var o=Object.getOwnPropertyDescriptor(s,n);void 0!==o.get?o.configurable?(Object.defineProperty(s,n,{value:t}),r.push([s,n,e,o])):i.push([e,n,t]):(s[n]=t,r.push([s,n,e]))}function u(t,r,i,s,o,c,l){var f;if(c+=1,"object"==typeof t&&null!==t){for(f=0;f<s.length;f++)if(s[f]===t)return void a(n,t,r,o);if(void 0!==l.depthLimit&&c>l.depthLimit)return void a(e,t,r,o);if(void 0!==l.edgesLimit&&i+1>l.edgesLimit)return void a(e,t,r,o);if(s.push(t),Array.isArray(t))for(f=0;f<t.length;f++)u(t[f],f,f,s,t,c,l);else{var h=Object.keys(t);for(f=0;f<h.length;f++){var p=h[f];u(t[p],p,f,s,t,c,l)}}s.pop()}}function c(t,e){return t<e?-1:t>e?1:0}function l(t,e,n,o){void 0===o&&(o=s());var a,u=f(t,"",0,[],void 0,0,o)||t;try{a=0===i.length?JSON.stringify(u,e,n):JSON.stringify(u,h(e),n)}catch(t){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var c=r.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function f(t,i,s,o,u,l,h){var p;if(l+=1,"object"==typeof t&&null!==t){for(p=0;p<o.length;p++)if(o[p]===t)return void a(n,t,i,u);try{if("function"==typeof t.toJSON)return}catch(t){return}if(void 0!==h.depthLimit&&l>h.depthLimit)return void a(e,t,i,u);if(void 0!==h.edgesLimit&&s+1>h.edgesLimit)return void a(e,t,i,u);if(o.push(t),Array.isArray(t))for(p=0;p<t.length;p++)f(t[p],p,p,o,t,l,h);else{var d={},g=Object.keys(t).sort(c);for(p=0;p<g.length;p++){var y=g[p];f(t[y],y,p,o,t,l,h),d[y]=t[y]}if(void 0===u)return d;r.push([u,i,t]),u[i]=d}o.pop()}}function h(t){return t=void 0!==t?t:function(t,e){return e},function(e,n){if(i.length>0)for(var r=0;r<i.length;r++){var s=i[r];if(s[1]===e&&s[0]===n){n=s[2],i.splice(r,1);break}}return t.call(this,e,n)}}},763:(t,e,n)=>{"use strict";const r=n(919),i=n(226),s=n(181);t.exports={XMLParser:i,XMLValidator:r,XMLBuilder:s}},209:(t,e)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+(n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",i=new RegExp("^"+r+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,n){if(e){const r=Object.keys(e),i=r.length;for(let s=0;s<i;s++)t[r[s]]="strict"===n?[e[r[s]]]:e[r[s]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(t){const e=i.exec(t);return!(null==e)},e.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const s=r.length;for(let t=0;t<s;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n},e.nameRegexp=r},919:(t,e,n)=>{"use strict";const r=n(209),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function o(t,e){const n=e;for(;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{const r=t.substr(n,e-n);if(e>5&&"xml"===r)return d("InvalidXml","XML declaration allowed only at the start of the document.",y(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=Object.assign({},i,e);const n=[];let u=!1,c=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let i=0;i<t.length;i++)if("<"===t[i]&&"?"===t[i+1]){if(i+=2,i=o(t,i),i.err)return i}else{if("<"!==t[i]){if(s(t[i]))continue;return d("InvalidChar","char '"+t[i]+"' is not expected.",y(t,i))}{let g=i;if(i++,"!"===t[i]){i=a(t,i);continue}{let m=!1;"/"===t[i]&&(m=!0,i++);let b="";for(;i<t.length&&">"!==t[i]&&" "!==t[i]&&"\t"!==t[i]&&"\n"!==t[i]&&"\r"!==t[i];i++)b+=t[i];if(b=b.trim(),"/"===b[b.length-1]&&(b=b.substring(0,b.length-1),i--),f=b,!r.isName(f)){let e;return e=0===b.trim().length?"Invalid space after '<'.":"Tag '"+b+"' is an invalid name.",d("InvalidTag",e,y(t,i))}const w=l(t,i);if(!1===w)return d("InvalidAttr","Attributes for '"+b+"' have open quote.",y(t,i));let v=w.value;if(i=w.index,"/"===v[v.length-1]){const n=i-v.length;v=v.substring(0,v.length-1);const r=h(v,e);if(!0!==r)return d(r.err.code,r.err.msg,y(t,n+r.err.line));u=!0}else if(m){if(!w.tagClosed)return d("InvalidTag","Closing tag '"+b+"' doesn't have proper closing.",y(t,i));if(v.trim().length>0)return d("InvalidTag","Closing tag '"+b+"' can't have attributes or invalid starting.",y(t,g));if(0===n.length)return d("InvalidTag","Closing tag '"+b+"' has not been opened.",y(t,g));{const e=n.pop();if(b!==e.tagName){let n=y(t,e.tagStartPos);return d("InvalidTag","Expected closing tag '"+e.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+b+"'.",y(t,g))}0==n.length&&(c=!0)}}else{const r=h(v,e);if(!0!==r)return d(r.err.code,r.err.msg,y(t,i-v.length+r.err.line));if(!0===c)return d("InvalidXml","Multiple possible root nodes found.",y(t,i));-1!==e.unpairedTags.indexOf(b)||n.push({tagName:b,tagStartPos:g}),u=!0}for(i++;i<t.length;i++)if("<"===t[i]){if("!"===t[i+1]){i++,i=a(t,i);continue}if("?"!==t[i+1])break;if(i=o(t,++i),i.err)return i}else if("&"===t[i]){const e=p(t,i);if(-1==e)return d("InvalidChar","char '&' is not expected.",y(t,i));i=e}else if(!0===c&&!s(t[i]))return d("InvalidXml","Extra text at the end",y(t,i));"<"===t[i]&&i--}}}var f;return u?1==n.length?d("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",y(t,n[0].tagStartPos)):!(n.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const u='"',c="'";function l(t,e){let n="",r="",i=!1;for(;e<t.length;e++){if(t[e]===u||t[e]===c)""===r?r=t[e]:r!==t[e]||(r="");else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}const f=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(t,e){const n=r.getAllMatches(t,f),i={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return d("InvalidAttr","Attribute '"+n[t][2]+"' has no space in starting.",m(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return d("InvalidAttr","Attribute '"+n[t][2]+"' is without value.",m(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+n[t][2]+"' is not allowed.",m(n[t]));const r=n[t][2];if(!g(r))return d("InvalidAttr","Attribute '"+r+"' is an invalid name.",m(n[t]));if(i.hasOwnProperty(r))return d("InvalidAttr","Attribute '"+r+"' is repeated.",m(n[t]));i[r]=1}return!0}function p(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function d(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function g(t){return r.isName(t)}function y(t,e){const n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function m(t){return t.startIndex+t[1].length}},181:(t,e,n)=>{"use strict";const r=n(655),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(t){this.options=Object.assign({},i,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=u),this.processTextOrObjNode=o,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function o(t,e,n){const r=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}function a(t){return this.options.indentBy.repeat(t)}function u(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}s.prototype.build=function(t){return this.options.preserveOrder?r(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},s.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(void 0===t[i])this.isAttribute(i)&&(r+="");else if(null===t[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if("object"!=typeof t[i]){const s=this.isAttribute(i);if(s)n+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let e=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(e)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const n=t[i].length;let s="";for(let o=0;o<n;o++){const n=t[i][o];void 0===n||(null===n?"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?s+=this.j2x(n,e+1).val:s+=this.processTextOrObjNode(n,i,e):s+=this.buildTextValNode(n,i,"",e))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",e)),r+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const e=Object.keys(t[i]),r=e.length;for(let s=0;s<r;s++)n+=this.buildAttrPairStr(e[s],""+t[i][e[s]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},s.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},s.prototype.buildObjectNode=function(t,e,n,r){if(""===t)return"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return"?"===e[0]&&(s="?",i=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===s.length?this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(r)+"<"+e+n+s+this.tagEndChar+t+this.indentate(r)+i:this.indentate(r)+"<"+e+n+s+">"+t+i}},s.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},s.prototype.buildTextValNode=function(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),""===i?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t},t.exports=s},655:t=>{function e(t,o,a,u){let c="",l=!1;for(let f=0;f<t.length;f++){const h=t[f],p=n(h);if(void 0===p)continue;let d="";if(d=0===a.length?p:`${a}.${p}`,p===o.textNodeName){let t=h[p];i(d,o)||(t=o.tagValueProcessor(p,t),t=s(t,o)),l&&(c+=u),c+=t,l=!1;continue}if(p===o.cdataPropName){l&&(c+=u),c+=`<![CDATA[${h[p][0][o.textNodeName]}]]>`,l=!1;continue}if(p===o.commentPropName){c+=u+`\x3c!--${h[p][0][o.textNodeName]}--\x3e`,l=!0;continue}if("?"===p[0]){const t=r(h[":@"],o),e="?xml"===p?"":u;let n=h[p][0][o.textNodeName];n=0!==n.length?" "+n:"",c+=e+`<${p}${n}${t}?>`,l=!0;continue}let g=u;""!==g&&(g+=o.indentBy);const y=u+`<${p}${r(h[":@"],o)}`,m=e(h[p],o,d,g);-1!==o.unpairedTags.indexOf(p)?o.suppressUnpairedNode?c+=y+">":c+=y+"/>":m&&0!==m.length||!o.suppressEmptyNode?m&&m.endsWith(">")?c+=y+`>${m}${u}</${p}>`:(c+=y+">",m&&""!==u&&(m.includes("/>")||m.includes("</"))?c+=u+o.indentBy+m+u:c+=m,c+=`</${p}>`):c+=y+"/>",l=!0}return c}function n(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];if(t.hasOwnProperty(r)&&":@"!==r)return r}}function r(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){if(!t.hasOwnProperty(r))continue;let i=e.attributeValueProcessor(r,t[r]);i=s(i,e),!0===i&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function i(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function s(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}t.exports=function(t,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),e(t,n,"",r)}},233:(t,e,n)=>{const r=n(209);function i(t,e){let n="";for(;e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)n+=t[e];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=t[e++];let i="";for(;e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function s(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function o(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function a(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function u(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function c(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function l(t){if(r.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}t.exports=function(t,e){const n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");{e+=9;let r=1,f=!1,h=!1,p="";for(;e<t.length;e++)if("<"!==t[e]||h)if(">"===t[e]){if(h?"-"===t[e-1]&&"-"===t[e-2]&&(h=!1,r--):r--,0===r)break}else"["===t[e]?f=!0:p+=t[e];else{if(f&&o(t,e))e+=7,[entityName,val,e]=i(t,e+1),-1===val.indexOf("&")&&(n[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(f&&a(t,e))e+=8;else if(f&&u(t,e))e+=8;else if(f&&c(t,e))e+=9;else{if(!s)throw new Error("Invalid DOCTYPE");h=!0}r++,p=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:e}}},63:(t,e)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};e.buildOptions=function(t){return Object.assign({},n,t)},e.defaultOptions=n},139:(t,e,n)=>{"use strict";const r=n(209),i=n(381),s=n(233),o=n(262);function a(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function u(t,e,n,r,i,s,o){if(void 0!==t&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const r=this.options.tagValueProcessor(e,t,n,i,s);if(null==r)return t;if(typeof r!=typeof t||r!==t)return r;if(this.options.trimValues)return v(t,this.options.parseTagValue,this.options.numberParseOptions);return t.trim()===t?v(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function c(t){if(this.options.removeNSPrefix){const e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function f(t,e,n){if(!this.options.ignoreAttributes&&"string"==typeof t){const n=r.getAllMatches(t,l),i=n.length,s={};for(let t=0;t<i;t++){const r=this.resolveNameSpace(n[t][1]);let i=n[t][4],o=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const t=this.options.attributeValueProcessor(r,i,e);s[o]=null==t?i:typeof t!=typeof i||t!==i?t:v(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=s,t}return s}}const h=function(t){t=t.replace(/\r\n?/g,"\n");const e=new i("!xml");let n=e,r="",o="";for(let a=0;a<t.length;a++){if("<"===t[a])if("/"===t[a+1]){const e=m(t,">",a,"Closing Tag is not closed.");let i=t.substring(a+2,e).trim();if(this.options.removeNSPrefix){const t=i.indexOf(":");-1!==t&&(i=i.substr(t+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),n&&(r=this.saveTextToParentTag(r,n,o));const s=o.substring(o.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let u=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(u=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=o.lastIndexOf("."),o=o.substring(0,u),n=this.tagsNodeStack.pop(),r="",a=e}else if("?"===t[a+1]){let e=b(t,a,!1,"?>");if(!e)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),this.options.ignoreDeclaration&&"?xml"===e.tagName||this.options.ignorePiTags);else{const t=new i(e.tagName);t.add(this.options.textNodeName,""),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[":@"]=this.buildAttributesMap(e.tagExp,o,e.tagName)),this.addChild(n,t,o)}a=e.closeIndex+1}else if("!--"===t.substr(a+1,3)){const e=m(t,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const i=t.substring(a+4,e-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=e}else if("!D"===t.substr(a+1,2)){const e=s(t,a);this.docTypeEntities=e.entities,a=e.i}else if("!["===t.substr(a+1,2)){const e=m(t,"]]>",a,"CDATA is not closed.")-2,i=t.substring(a+9,e);r=this.saveTextToParentTag(r,n,o);let s=this.parseTextData(i,n.tagname,o,!0,!1,!0,!0);null==s&&(s=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]):n.add(this.options.textNodeName,s),a=e+2}else{let s=b(t,a,this.options.removeNSPrefix),u=s.tagName;const c=s.rawTagName;let l=s.tagExp,f=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,o,!1));const p=n;if(p&&-1!==this.options.unpairedTags.indexOf(p.tagname)&&(n=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),u!==e.tagname&&(o+=o?"."+u:u),this.isItStopNode(this.options.stopNodes,o,u)){let e="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)"/"===u[u.length-1]?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),l=u):l=l.substr(0,l.length-1),a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(u))a=s.closeIndex;else{const n=this.readStopNodeData(t,c,h+1);if(!n)throw new Error(`Unexpected end of ${c}`);a=n.i,e=n.tagContent}const r=new i(u);u!==l&&f&&(r[":@"]=this.buildAttributesMap(l,o,u)),e&&(e=this.parseTextData(e,u,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),r.add(this.options.textNodeName,e),this.addChild(n,r,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===u[u.length-1]?(u=u.substr(0,u.length-1),o=o.substr(0,o.length-1),l=u):l=l.substr(0,l.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const t=new i(u);u!==l&&f&&(t[":@"]=this.buildAttributesMap(l,o,u)),this.addChild(n,t,o),o=o.substr(0,o.lastIndexOf("."))}else{const t=new i(u);this.tagsNodeStack.push(n),u!==l&&f&&(t[":@"]=this.buildAttributesMap(l,o,u)),this.addChild(n,t,o),n=t}r="",a=h}}else r+=t[a]}return e.child};function p(t,e,n){const r=this.options.updateTag(e.tagname,n,e[":@"]);!1===r||("string"==typeof r?(e.tagname=r,t.addChild(e)):t.addChild(e))}const d=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function g(t,e,n,r){return t&&(void 0===r&&(r=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,r))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function y(t,e,n){const r="*."+n;for(const n in t){const i=t[n];if(r===i||e===i)return!0}return!1}function m(t,e,n,r){const i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}function b(t,e,n,r=">"){const i=function(t,e,n=">"){let r,i="";for(let s=e;s<t.length;s++){let e=t[s];if(r)e===r&&(r="");else if('"'===e||"'"===e)r=e;else if(e===n[0]){if(!n[1])return{data:i,index:s};if(t[s+1]===n[1])return{data:i,index:s}}else"\t"===e&&(e=" ");i+=e}}(t,e+1,r);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;-1!==a&&(u=s.substring(0,a),s=s.substring(a+1).trimStart());const l=u;if(n){const t=u.indexOf(":");-1!==t&&(u=u.substr(t+1),c=u!==i.data.substr(t+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c,rawTagName:l}}function w(t,e,n){const r=n;let i=1;for(;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){const s=m(t,">",n,`${e} is not closed`);if(t.substring(n+2,s).trim()===e&&(i--,0===i))return{tagContent:t.substring(r,n),i:s};n=s}else if("?"===t[n+1]){n=m(t,"?>",n+1,"StopNode is not closed.")}else if("!--"===t.substr(n+1,3)){n=m(t,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===t.substr(n+1,2)){n=m(t,"]]>",n,"StopNode is not closed.")-2}else{const r=b(t,n,">");if(r){(r&&r.tagName)===e&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex}}}function v(t,e,n){if(e&&"string"==typeof t){const e=t.trim();return"true"===e||"false"!==e&&o(t,n)}return r.isExist(t)?t:""}t.exports=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>String.fromCharCode(Number.parseInt(e,16))}},this.addExternalEntities=a,this.parseXml=h,this.parseTextData=u,this.resolveNameSpace=c,this.buildAttributesMap=f,this.isItStopNode=y,this.replaceEntitiesValue=d,this.readStopNodeData=w,this.saveTextToParentTag=g,this.addChild=p}}},226:(t,e,n)=>{const{buildOptions:r}=n(63),i=n(139),{prettify:s}=n(896),o=n(919);t.exports=class{constructor(t){this.externalEntities={},this.options=r(t)}parse(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});const n=o.validate(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new i(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(t);return this.options.preserveOrder||void 0===r?r:s(r,this.options)}addEntity(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}}},896:(t,e)=>{"use strict";function n(t,e,o){let a;const u={};for(let c=0;c<t.length;c++){const l=t[c],f=r(l);let h="";if(h=void 0===o?f:o+"."+f,f===e.textNodeName)void 0===a?a=l[f]:a+=""+l[f];else{if(void 0===f)continue;if(l[f]){let t=n(l[f],e,h);const r=s(t,e);l[":@"]?i(t,l[":@"],h,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==u[f]&&u.hasOwnProperty(f)?(Array.isArray(u[f])||(u[f]=[u[f]]),u[f].push(t)):e.isArray(f,h,r)?u[f]=[t]:u[f]=t}}}return"string"==typeof a?a.length>0&&(u[e.textNodeName]=a):void 0!==a&&(u[e.textNodeName]=a),u}function r(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function i(t,e,n,r){if(e){const i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){const s=i[o];r.isArray(s,n+"."+s,!0,!0)?t[s]=[e[s]]:t[s]=e[s]}}}function s(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return 0===r||!(1!==r||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n])}e.prettify=function(t,e){return n(t,e)}},381:t=>{"use strict";t.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push({[t]:e})}addChild(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},318:(t,e)=>{e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=256*s+t[e+f],f+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+f],f+=h,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),s-=c}return(p?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(e*u-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+p]=255&o,p+=d,o/=256,c-=8);t[n+p-d]|=128*g}},262:t=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};t.exports=function(t,i={}){if(i=Object.assign({},r,i),!t||"string"!=typeof t)return t;let s=t.trim();if(void 0!==i.skipLike&&i.skipLike.test(s))return t;if(i.hex&&e.test(s))return Number.parseInt(s,16);{const e=n.exec(s);if(e){const n=e[1],r=e[2];let o=function(t){if(t&&-1!==t.indexOf("."))return"."===(t=t.replace(/0+$/,""))?t="0":"."===t[0]?t="0"+t:"."===t[t.length-1]&&(t=t.substr(0,t.length-1)),t;return t}(e[3]);const a=e[4]||e[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==s[2])return t;if(!i.leadingZeros&&r.length>0&&!n&&"."!==s[1])return t;{const e=Number(s),u=""+e;return-1!==u.search(/[eE]/)||a?i.eNotation?e:t:-1!==s.indexOf(".")?"0"===u&&""===o||u===o||n&&u==="-"+o?e:t:r?o===u||n+o===u?e:t:s===u||s===n+u?e:t}}return t}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";function t(t){return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)}n.r(r),n.d(r,{onHomePage:()=>Ps,onInstall:()=>Us,onUpdate:()=>$s,onUserInput:()=>_s});var e=(t,e)=>Object.hasOwnProperty.call(t,e);var i,s=((i=s||{})[i.Null=4]="Null",i[i.Comma=1]="Comma",i[i.Wrapper=1]="Wrapper",i[i.True=4]="True",i[i.False=5]="False",i[i.Quote=1]="Quote",i[i.Colon=1]="Colon",i[i.Date=24]="Date",i);function o(t){if("object"!=typeof t||null===t)return!1;try{let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch(t){return!1}}Error;class a extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...s}=t,{path:o}=t,a=0===o.length?r:`At path: ${o.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function u(t){return"object"==typeof t&&null!=t}function c(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function l(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${c(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*f(t,e,n,r){var i;u(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const i of t){const t=l(i,e,n,r);t&&(yield t)}}function*h(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&u(e.schema)&&u(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c="valid";for(const r of e.validator(t,a))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[l,f,p]of e.entries(t,a)){const e=h(f,p,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,f],coerce:s,mask:o,message:n.message});for(const n of e)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(f=n[1],void 0===l?t=f:t instanceof Map?t.set(l,f):t instanceof Set?t.add(f):u(t)&&(void 0!==f||l in t)&&(t[l]=f))}if("not_valid"!==c)for(const r of e.refiner(t,a))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,t])}class p{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:s=(t=>t),entries:o=function*(){}}=t;this.type=e,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(t,e)=>f(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>f(i(t,e),e,this,t):()=>[]}assert(t,e){return d(t,this,e)}create(t,e){return g(t,this,e)}is(t){return y(t,this)}mask(t,e){return function(t,e,n){const r=m(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return m(t,this,e)}}function d(t,e,n){const r=m(t,e,{message:n});if(r[0])throw r[0]}function g(t,e,n){const r=m(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function y(t,e){return!m(t,e)[0]}function m(t,e,n={}){const r=h(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new a(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function b(...t){const e="type"===t[0].type,n=t.map((t=>t.schema)),r=Object.assign({},...n);return e?R(r):T(r)}function w(t,e){return new p({type:t,schema:null,validator:e})}function v(t){let e;return new p({type:"lazy",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function E(t){return new p({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${c(t)}`})}function x(){return w("boolean",(t=>"boolean"==typeof t))}function N(t){const e=c(t),n=typeof t;return new p({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${c(n)}`})}function A(){return w("never",(()=>!1))}function O(t){return new p({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function I(){return w("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${c(t)}`))}function T(t){const e=t?Object.keys(t):[],n=A();return new p({type:"object",schema:t||null,*entries(r){if(t&&u(r)){const i=new Set(Object.keys(r));for(const n of e)i.delete(n),yield[n,r[n],t[n]];for(const t of i)yield[t,r[t],n]}},validator:t=>u(t)||`Expected an object, but received: ${c(t)}`,coercer:t=>u(t)?{...t}:t})}function k(t){return new p({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function S(t,e){return new p({type:"record",schema:null,*entries(n){if(u(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>u(t)||`Expected an object, but received: ${c(t)}`})}function B(){return w("string",(t=>"string"==typeof t||`Expected a string, but received: ${c(t)}`))}function R(t){const e=Object.keys(t);return new p({type:"type",schema:t,*entries(n){if(u(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>u(t)||`Expected an object, but received: ${c(t)}`,coercer:t=>u(t)?{...t}:t})}function C(t){const e=t.map((t=>t.type)).join(" | ");return new p({type:"union",schema:null,coercer(e){for(const n of t){const[t,r]=n.validate(e,{coerce:!0});if(!t)return r}return e},validator(n,r){const i=[];for(const e of t){const[...t]=h(n,e,r),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${c(n)}`,...i]}})}function P(){return w("unknown",(()=>!0))}function _(t,e,n){return new p({...t,coercer:(r,i)=>y(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function U(t,e){return $(t,"pattern",(n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`))}function $(t,e,n){return new p({...t,*refiner(r,i){yield*t.refiner(r,i);const s=f(n(r,i),i,t,r);for(const t of s)yield{...t,refinement:e}}})}function j(t){return function(t){return function(t){return"object"==typeof t&&null!==t&&"message"in t}(t)&&"string"==typeof t.message?t.message:null==t?"":String(t)}(t).replace(/\.$/u,"")}function F(t,e){return n=t,Boolean("string"==typeof n?.prototype?.constructor?.name)?new t({message:e}):t({message:e});var n}var L=class extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}};function M(t,e="Assertion failed.",n=L){if(!t){if(e instanceof Error)throw e;throw F(n,e)}}function D(t,e,n="Assertion failed",r=L){try{d(t,e)}catch(t){throw F(r,`${n}: ${j(t)}.`)}}var V=t=>T(t);function z({path:t,branch:n}){const r=t[t.length-1];return e(n[n.length-2],r)}function J(t){return new p({...t,type:`optional ${t.type}`,validator:(e,n)=>!z(n)||t.validator(e,n),refiner:(e,n)=>!z(n)||t.refiner(e,n)})}var G=C([N(null),x(),w("finite number",(t=>y(t,I())&&Number.isFinite(t))),B(),E(v((()=>G))),S(B(),v((()=>G)))]),q=_(G,w("any",(()=>!0)),(t=>(D(t,G),JSON.parse(JSON.stringify(t,((t,e)=>{if("__proto__"!==t&&"constructor"!==t)return e}))))));function W(t){try{return function(t){g(t,q)}(t),!0}catch{return!1}}var X=N("2.0"),K=O(C([I(),B()])),Y=V({code:w("integer",(t=>"number"==typeof t&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${c(t)}`)),message:B(),data:J(q),stack:J(B())}),H=C([S(B(),q),E(q)]);V({id:K,jsonrpc:X,method:B(),params:J(H)}),V({jsonrpc:X,method:B(),params:J(H)});T({id:K,jsonrpc:X,result:k(P()),error:k(Y)});var Z=V({id:K,jsonrpc:X,result:q}),Q=V({id:K,jsonrpc:X,error:Y});C([Z,Q]);var tt=n(763),et={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},nt={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},rt={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},it=et.internal,st="Unspecified error message. This is a bug, please report it.",ot=(at(it),"Unspecified server error.");function at(t,n=st){if(function(t){return Number.isInteger(t)}(t)){const n=t.toString();if(e(rt,n))return rt[n].message;if(function(t){return t>=-32099&&t<=-32e3}(t))return ot}return n}function ut(e){return Array.isArray(e)?e.map((e=>W(e)?e:t(e)?ct(e):null)):t(e)?ct(e):W(e)?e:null}function ct(t){return Object.getOwnPropertyNames(t).reduce(((e,n)=>{const r=t[n];return W(r)&&(e[n]=r),e}),{})}var lt=n(282),ft=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!e||"string"!=typeof e)throw new Error('"message" must be a non-empty string.');super(e),this.code=t,void 0!==n&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return void 0!==this.data&&(t.data=this.data,o(this.data)&&(t.data.cause=ut(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return lt(this.serialize(),pt,2)}},ht=class extends ft{constructor(t,e,n){if(!function(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};function pt(t,e){if("[Circular]"!==e)return e}var dt=t=>Bt(et.parse,t),gt=t=>Bt(et.invalidRequest,t),yt=t=>Bt(et.invalidParams,t),mt=t=>Bt(et.methodNotFound,t),bt=t=>Bt(et.internal,t),wt=t=>Bt(et.invalidInput,t),vt=t=>Bt(et.resourceNotFound,t),Et=t=>Bt(et.resourceUnavailable,t),xt=t=>Bt(et.transactionRejected,t),Nt=t=>Bt(et.methodNotSupported,t),At=t=>Bt(et.limitExceeded,t),Ot=t=>Rt(nt.userRejectedRequest,t),It=t=>Rt(nt.unauthorized,t),Tt=t=>Rt(nt.unsupportedMethod,t),kt=t=>Rt(nt.disconnected,t),St=t=>Rt(nt.chainDisconnected,t);function Bt(t,e){const[n,r]=Ct(e);return new ft(t,n??at(t),r)}function Rt(t,e){const[n,r]=Ct(e);return new ht(t,n??at(t),r)}function Ct(t){if(t){if("string"==typeof t)return[t];if("object"==typeof t&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e??void 0,n]}}return[]}n(48).hp;!function(){const t=[]}();U(B(),/^(?:0x)?[0-9a-f]+$/iu),U(B(),/^0x[0-9a-f]+$/iu),U(B(),/^0x[0-9a-f]{40}$/u);var Pt=U(B(),/^0x[0-9a-fA-F]{40}$/u);var _t,Ut,$t,jt,Ft=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Lt=(t,e,n)=>(Ft(t,e,"read from private field"),n?n.call(t):e.get(t)),Mt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Dt=(t,e,n,r)=>(Ft(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vt=class extends Error{constructor(n,r={}){const i=function(n){if(t(n)&&e(n,"message")&&"string"==typeof n.message)return n.message;return String(n)}(n);super(i),Mt(this,_t,void 0),Mt(this,Ut,void 0),Mt(this,$t,void 0),Mt(this,jt,void 0),Dt(this,Ut,i),Dt(this,_t,function(n){if(t(n)&&e(n,"code")&&"number"==typeof n.code&&Number.isInteger(n.code))return n.code;return-32603}(n));const s={...qt(n),...r};Object.keys(s).length>0&&Dt(this,$t,s),Dt(this,jt,super.stack)}get name(){return"SnapError"}get code(){return Lt(this,_t)}get message(){return Lt(this,Ut)}get data(){return Lt(this,$t)}get stack(){return Lt(this,jt)}toJSON(){return{code:Jt,message:Gt,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function zt(t){return class extends Vt{constructor(e,n){if("object"==typeof e){const n=t();return void super({code:n.code,message:n.message,data:e})}const r=t(e);super({code:r.code,message:r.message,data:n})}}}_t=new WeakMap,Ut=new WeakMap,$t=new WeakMap,jt=new WeakMap;var Jt=-31002,Gt="Snap Error";function qt(n){return t(n)&&e(n,"data")&&"object"==typeof n.data&&null!==n.data&&W(n.data)&&!Array.isArray(n.data)?n.data:{}}function Wt(t){return w(JSON.stringify(t),N(t).validator)}function Xt(t){return Wt(t)}function Kt(t){return function([t,...e]){const n=C([t,...e]);return new p({...n,schema:[t,...e]})}(t)}function Yt(n){try{return function(n){try{const r=n.trim();M(r.length>0);const i=new tt.XMLParser({ignoreAttributes:!1,parseAttributeValue:!0}).parse(r,!0);return M(e(i,"svg")),t(i.svg)?i.svg:{}}catch{throw new Error("Snap icon must be a valid SVG.")}}(n),!0}catch{return!1}}zt(bt),zt(wt),zt(yt),zt(gt),zt(At),zt(mt),zt(Nt),zt(dt),zt(vt),zt(Et),zt(xt),zt(St),zt(kt),zt(It),zt(Tt),zt(Ot);function Ht(t,e,n=[]){return(...r)=>{if(1===r.length&&o(r[0])){const n={...r[0],type:t};return D(n,e,`Invalid ${t} component`),n}const i=n.reduce(((t,e,n)=>void 0!==r[n]?{...t,[e]:r[n]}:t),{type:t});return D(i,e,`Invalid ${t} component`),i}}var Zt,Qt=((Zt=Qt||{}).Copyable="copyable",Zt.Divider="divider",Zt.Heading="heading",Zt.Panel="panel",Zt.Spinner="spinner",Zt.Text="text",Zt.Image="image",Zt.Row="row",Zt.Address="address",Zt.Button="button",Zt.Input="input",Zt.Form="form",Zt),te=T({type:B()}),ee=b(te,T({value:P()})),ne=b(ee,T({type:N("address"),value:Pt})),re=(Ht("address",ne,["value"]),b(ee,T({type:N("copyable"),value:B(),sensitive:k(x())}))),ie=Ht("copyable",re,["value","sensitive"]),se=b(te,T({type:N("divider")})),oe=Ht("divider",se),ae=b(ee,T({type:N("heading"),value:B()})),ue=Ht("heading",ae,["value"]);var ce,le,fe,he,pe=b(te,T({type:N("image"),value:$(B(),"SVG",(t=>!!Yt(t)||"Value is not a valid SVG."))})),de=(Ht("image",pe,["value"]),(ce=de||{}).Primary="primary",ce.Secondary="secondary",ce),ge=((le=ge||{}).Button="button",le.Submit="submit",le),ye=b(ee,T({type:N("button"),value:B(),variant:k(C([Xt("primary"),Xt("secondary")])),buttonType:k(C([Xt("button"),Xt("submit")])),name:k(B())})),me=Ht("button",ye,["value","buttonType","name","variant"]),be=((fe=be||{}).Text="text",fe.Number="number",fe.Password="password",fe),we=b(ee,T({type:N("input"),value:k(B()),name:B(),inputType:k(C([Xt("text"),Xt("password"),Xt("number")])),placeholder:k(B()),label:k(B()),error:k(B())})),ve=(Ht("input",we,["name","inputType","placeholder","value","label"]),C([we,ye])),Ee=b(te,T({type:N("form"),children:E(ve),name:B()})),xe=(Ht("form",Ee,["name","children"]),b(ee,T({type:N("text"),value:B(),markdown:k(x())}))),Ne=Ht("text",xe,["value","markdown"]),Ae=((he=Ae||{}).Default="default",he.Critical="critical",he.Warning="warning",he),Oe=C([pe,xe,ne]),Ie=b(ee,T({type:N("row"),variant:k(C([Xt("default"),Xt("critical"),Xt("warning")])),label:B(),value:Oe})),Te=Ht("row",Ie,["label","value","variant"]),ke=b(te,T({type:N("spinner")})),Se=Ht("spinner",ke),Be=b(te,T({children:E(v((()=>Pe)))})),Re=b(Be,T({type:N("panel")})),Ce=Ht("panel",Re,["children"]),Pe=C([re,se,ae,pe,Re,ke,xe,Ie,ne,we,Ee,ye]);var _e,Ue,$e,je,Fe,Le,Me=((_e=Me||{}).Critical="critical",_e),De=((Ue=De||{}).ButtonClickEvent="ButtonClickEvent",Ue.FormSubmitEvent="FormSubmitEvent",Ue.InputChangeEvent="InputChangeEvent",Ue),Ve=T({type:B(),name:k(B())}),ze=(C([b(Ve,T({type:N("ButtonClickEvent"),name:k(B())})),b(Ve,T({type:N("FormSubmitEvent"),value:S(B(),O(B())),name:B()})),b(Ve,T({type:N("InputChangeEvent"),name:B(),value:B()}))]),($e=ze||{}).Alert="alert",$e.Confirmation="confirmation",$e.Prompt="prompt",$e),Je=((je=Je||{}).Base64="base64",je.Hex="hex",je.Utf8="utf8",je),Ge=((Fe=Ge||{}).ClearState="clear",Fe.GetState="get",Fe.UpdateState="update",Fe),qe=((Le=qe||{}).InApp="inApp",Le.Native="native",Le),We=Kt([B(),I()]),Xe=Ke(B());T({type:B(),props:S(B(),q),key:O(We)});function Ke(t){return Kt([t,E(t)])}function Ye(t,e={}){return T({type:Wt(t),props:T(e),key:O(We)})}var He=Ye("Button",{children:Xe,name:k(B()),type:k(Kt([Wt("button"),Wt("submit")])),variant:k(Kt([Wt("primary"),Wt("destructive")])),disabled:k(x())}),Ze=Ye("Input",{name:B(),type:k(Kt([Wt("text"),Wt("password"),Wt("number")])),value:k(B()),placeholder:k(B())}),Qe=Ye("Field",{label:k(B()),error:k(B()),children:Ze}),tn=Ye("Form",{children:Ke(Kt([Qe,He])),name:B()}),en=Ye("Bold",{children:Ke(O(Kt([B(),v((()=>nn))])))}),nn=Ye("Italic",{children:Ke(O(Kt([B(),v((()=>en))])))}),rn=Kt([en,nn]),sn=Ye("Address",{address:Pt}),on=Ye("Box",{children:Ke(O(v((()=>gn))))}),an=Ye("Copyable",{value:B(),sensitive:k(x())}),un=Ye("Divider"),cn=Ye("Heading",{children:Xe}),ln=Ye("Image",{src:B(),alt:k(B())}),fn=Ye("Link",{href:B(),children:Ke(O(Kt([rn,B()])))}),hn=Ye("Text",{children:Ke(O(Kt([B(),en,nn,fn])))}),pn=Ye("Row",{label:B(),children:Kt([sn,ln,hn]),variant:k(Kt([Wt("default"),Wt("warning"),Wt("error")]))}),dn=Ye("Spinner"),gn=Kt([He,Ze,Qe,tn,en,nn,sn,on,an,un,cn,ln,fn,pn,dn,hn]),yn=S(B(),O(B()));S(B(),C([yn,O(B())])),C([Pe,gn]);function mn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function bn(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function wn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vn(t,e){bn(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const En=BigInt(2**32-1),xn=BigInt(32);function Nn(t,e=!1){return e?{h:Number(t&En),l:Number(t>>xn&En)}:{h:0|Number(t>>xn&En),l:0|Number(t&En)}}function An(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Nn(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const On=(t,e,n)=>t<<n|e>>>32-n,In=(t,e,n)=>e<<n|t>>>32-n,Tn=(t,e,n)=>e<<n-32|t>>>64-n,kn=(t,e,n)=>t<<n-32|e>>>64-n;const Sn=t=>t instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function Bn(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!Sn(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class Rn{clone(){return this._cloneInto()}}const[Cn,Pn,_n]=[[],[],[]],Un=BigInt(0),$n=BigInt(1),jn=BigInt(2),Fn=BigInt(7),Ln=BigInt(256),Mn=BigInt(113);for(let t=0,e=$n,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Cn.push(2*(5*r+n)),Pn.push((t+1)*(t+2)/2%64);let i=Un;for(let t=0;t<7;t++)e=(e<<$n^(e>>Fn)*Mn)%Ln,e&jn&&(i^=$n<<($n<<BigInt(t))-$n);_n.push(i)}const[Dn,Vn]=An(_n,!0),zn=(t,e,n)=>n>32?Tn(t,e,n):On(t,e,n),Jn=(t,e,n)=>n>32?kn(t,e,n):In(t,e,n);class Gn extends Rn{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,mn(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let e=0;e<10;e++)n[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const r=(e+8)%10,i=(e+2)%10,s=n[i],o=n[i+1],a=zn(s,o,1)^n[r],u=Jn(s,o,1)^n[r+1];for(let n=0;n<50;n+=10)t[e+n]^=a,t[e+n+1]^=u}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=Pn[n],s=zn(e,i,r),o=Jn(e,i,r),a=Cn[n];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let r=0;r<10;r++)n[r]=t[e+r];for(let r=0;r<10;r++)t[e+r]^=~n[(r+2)%10]&n[(r+4)%10]}t[0]^=Dn[r],t[1]^=Vn[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){wn(this);const{blockLen:e,state:n}=this,r=(t=Bn(t)).length;for(let i=0;i<r;){const s=Math.min(e-this.pos,r-i);for(let e=0;e<s;e++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,128&e&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){wn(this,!1),bn(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return mn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(vn(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return t||(t=new Gn(e,n,r,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=s,t.destroyed=this.destroyed,t}}const qn=(t,e,n)=>function(t){const e=e=>t().update(Bn(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}((()=>new Gn(e,t,n))),Wn=qn(1,136,32),Xn="6.12.1";function Kn(t,e,n){const r=e.split("|").map((t=>t.trim()));for(let n=0;n<r.length;n++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}function Yn(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&Kn(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Hn(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(Hn).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[15&t[r]];return n}if("object"==typeof t&&"function"==typeof t.toJSON)return Hn(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${Hn(e)}: ${Hn(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Zn(t,e){return t&&t.code===e}function Qn(t,e,n){let r,i=t;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Hn(n)}`);for(const t in n){if("shortMessage"===t)continue;const e=n[t];r.push(t+"="+Hn(e))}}r.push(`code=${e}`),r.push(`version=${Xn}`),r.length&&(t+=" ("+r.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return Yn(r,{code:e}),n&&Object.assign(r,n),null==r.shortMessage&&Yn(r,{shortMessage:i}),r}function tr(t,e,n,r){if(!t)throw Qn(e,n,r)}function er(t,e,n,r){tr(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function nr(t,e,n){null==n&&(n=""),n&&(n=": "+n),tr(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),tr(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const rr=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function ir(t,e,n){if(null==n&&(n=""),t!==e){let t=n,e="new";n&&(t+=".",e+=" "+n),tr(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function sr(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let n=2;for(let r=0;r<e.length;r++)e[r]=parseInt(t.substring(n,n+2),16),n+=2;return e}er(!1,"invalid BytesLike value",e||"value",t)}function or(t,e){return sr(t,e,!1)}function ar(t,e){return sr(t,e,!0)}function ur(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}const cr="0123456789abcdef";function lr(t){const e=or(t);let n="0x";for(let t=0;t<e.length;t++){const r=e[t];n+=cr[(240&r)>>4]+cr[15&r]}return n}function fr(t){return"0x"+t.map((t=>lr(t).substring(2))).join("")}function hr(t,e,n){const r=or(t);return null!=n&&n>r.length&&tr(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),lr(r.slice(null==e?0:e,null==n?r.length:n))}function pr(t,e,n){const r=or(t);tr(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),lr(i)}let dr=!1;const gr=function(t){return Wn(t)};let yr=gr;function mr(t){const e=or(t,"data");return lr(yr(e))}function br(t,e,n,r,i){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let r=e+1;r<n.length&&n[r]>>6==2;r++)t++;return t}return"OVERRUN"===t?n.length-e-1:0}mr._=gr,mr.lock=function(){dr=!0},mr.register=function(t){if(dr)throw new TypeError("keccak256 is locked");yr=t},Object.freeze(mr);const wr=Object.freeze({error:function(t,e,n,r,i){er(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)},ignore:br,replace:function(t,e,n,r,i){return"OVERLONG"===t?(er("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),br(t,e,n))}});function vr(t,e){null==e&&(e=wr.error);const n=or(t,"bytes"),r=[];let i=0;for(;i<n.length;){const t=n[i++];if(!(t>>7)){r.push(t);continue}let s=null,o=null;if(192==(224&t))s=1,o=127;else if(224==(240&t))s=2,o=2047;else{if(240!=(248&t)){i+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let a=t&(1<<8-s-1)-1;for(let t=0;t<s;t++){let t=n[i];if(128!=(192&t)){i+=e("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&t,i++}null!==a&&(a>1114111?i+=e("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=e("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=e("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function Er(t,e){er("string"==typeof t,"invalid string value","str",t),null!=e&&(!function(t){tr(rr.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let n=[];for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r<128)n.push(r);else if(r<2048)n.push(r>>6|192),n.push(63&r|128);else if(55296==(64512&r)){e++;const i=t.charCodeAt(e);er(e<t.length&&56320==(64512&i),"invalid surrogate pair","str",t);const s=65536+((1023&r)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(r>>12|224),n.push(r>>6&63|128),n.push(63&r|128)}return new Uint8Array(n)}function xr(t,e){return vr(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Nr(t){return mr(Er(t))}const Ar=BigInt(0),Or=BigInt(1),Ir=9007199254740991;function Tr(t,e){const n=Sr(t,"value"),r=BigInt(Cr(e,"bits"));return n&(Or<<r)-Or}function kr(t,e){switch(typeof t){case"bigint":return t;case"number":return er(Number.isInteger(t),"underflow",e||"value",t),er(t>=-Ir&&t<=Ir,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(n){er(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}er(!1,"invalid BigNumberish value",e||"value",t)}function Sr(t,e){const n=kr(t,e);return tr(n>=Ar,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Br="0123456789abcdef";function Rr(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Br[n>>4],e+=Br[15&n];return BigInt(e)}return kr(t)}function Cr(t,e){switch(typeof t){case"bigint":return er(t>=-Ir&&t<=Ir,"overflow",e||"value",t),Number(t);case"number":return er(Number.isInteger(t),"underflow",e||"value",t),er(t>=-Ir&&t<=Ir,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return Cr(BigInt(t),e)}catch(n){er(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}er(!1,"invalid numeric value",e||"value",t)}function Pr(t,e){let n=Sr(t,"value").toString(16);if(null==e)n.length%2&&(n="0"+n);else{const r=Cr(e,"width");for(tr(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<2*r;)n="0"+n}return"0x"+n}function _r(t){const e=Sr(t,"value");if(e===Ar)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let t=0;t<r.length;t++){const e=2*t;r[t]=parseInt(n.substring(e,e+2),16)}return r}const Ur=32,$r=new Uint8Array(Ur),jr=["then"],Fr={};function Lr(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}class Mr extends Array{#t;constructor(...t){const e=t[0];let n=t[1],r=(t[2]||[]).slice(),i=!0;e!==Fr&&(n=t,r=[],i=!1),super(n.length),n.forEach(((t,e)=>{this[e]=t}));const s=r.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(this.#t=Object.freeze(n.map(((t,e)=>{const n=r[e];return null!=n&&1===s.get(n)?n:null}))),i)return Object.freeze(this),new Proxy(this,{get:(t,e,n)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const n=Cr(e,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=t[n];return r instanceof Error&&Lr(`index ${n}`,r),r}if(jr.indexOf(e)>=0)return Reflect.get(t,e,n);const r=t[e];if(r instanceof Function)return function(...e){return r.apply(this===n?t:this,e)};if(!(e in t))return t.getValue.apply(this===n?t:this,[e])}return Reflect.get(t,e,n)}})}toArray(t){const e=[];return this.forEach(((n,r)=>{n instanceof Error&&Lr(`index ${r}`,n),t&&n instanceof Mr&&(n=n.toArray(t)),e.push(n)})),e}toObject(t){return this.#t.reduce(((e,n,r)=>{if(tr(null!=n,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),!(n in e)){let r=this.getValue(n);t&&r instanceof Mr&&(r=r.toObject(t)),e[n]=r}return e}),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const n=[],r=[];for(let i=t;i<e;i++)n.push(this[i]),r.push(this.#t[i]);return new Mr(Fr,n,r)}filter(t,e){const n=[],r=[];for(let i=0;i<this.length;i++){const s=this[i];s instanceof Error&&Lr(`index ${i}`,s),t.call(e,s,i,this)&&(n.push(s),r.push(this.#t[i]))}return new Mr(Fr,n,r)}map(t,e){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&Lr(`index ${r}`,i),n.push(t.call(e,i,r,this))}return n}getValue(t){const e=this.#t.indexOf(t);if(-1===e)return;const n=this[e];return n instanceof Error&&Lr(`property ${JSON.stringify(t)}`,n.error),n}static fromItems(t,e){return new Mr(Fr,t,e)}}function Dr(t){let e=_r(t);return tr(e.length<=Ur,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ur,offset:e.length}),e.length!==Ur&&(e=ar(fr([$r.slice(e.length%Ur),e]))),e}class Vr{name;type;localName;dynamic;constructor(t,e,n,r){Yn(this,{name:t,type:e,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){er(!1,t,this.localName,e)}}class zr{#e;#n;constructor(){this.#e=[],this.#n=0}get data(){return fr(this.#e)}get length(){return this.#n}#r(t){return this.#e.push(t),this.#n+=t.length,t.length}appendWriter(t){return this.#r(ar(t.data))}writeBytes(t){let e=ar(t);const n=e.length%Ur;return n&&(e=ar(fr([e,$r.slice(n)]))),this.#r(e)}writeValue(t){return this.#r(Dr(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push($r),this.#n+=Ur,e=>{this.#e[t]=Dr(e)}}}class Jr{allowLoose;#e;#i;#s;#o;#a;constructor(t,e,n){Yn(this,{allowLoose:!!e}),this.#e=ar(t),this.#s=0,this.#o=null,this.#a=null!=n?n:1024,this.#i=0}get data(){return lr(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#e)}#u(t){if(this.#o)return this.#o.#u(t);this.#s+=t,tr(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ar(this.#e),offset:this.#i,length:t,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#c(t,e,n){let r=Math.ceil(e/Ur)*Ur;return this.#i+r>this.#e.length&&(this.allowLoose&&n&&this.#i+e<=this.#e.length?r=e:tr(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ar(this.#e),length:this.#e.length,offset:this.#i+r})),this.#e.slice(this.#i,this.#i+r)}subReader(t){const e=new Jr(this.#e.slice(this.#i+t),this.allowLoose,this.#a);return e.#o=this,e}readBytes(t,e){let n=this.#c(0,t,!!e);return this.#u(t),this.#i+=n.length,n.slice(0,t)}readValue(){return Rr(this.readBytes(Ur))}readIndex(){return Cr(Rr(this.readBytes(Ur)))}}const Gr=BigInt(0),qr=BigInt(36);function Wr(t){const e=(t=t.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let t=0;t<40;t++)n[t]=e[t].charCodeAt(0);const r=or(mr(n));for(let t=0;t<40;t+=2)r[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&r[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Xr={};for(let t=0;t<10;t++)Xr[String(t)]=String(t);for(let t=0;t<26;t++)Xr[String.fromCharCode(65+t)]=String(10+t);const Kr=15;function Yr(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Xr[t])).join("");for(;e.length>=Kr;){let t=e.substring(0,Kr);e=parseInt(t,10)%97+e.substring(t.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const Hr=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function Zr(t){if(er("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Wr(t);return er(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){er(t.substring(2,4)===Yr(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=Gr;for(let n=0;n<t.length;n++)e=e*qr+Hr[t[n]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Wr("0x"+e)}er(!1,"invalid address","address",t)}const Qr={};function ti(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new ri(Qr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function ei(t,e){return new ri(Qr,`bytes${e||""}`,t,{size:e})}const ni=Symbol.for("_ethers_typed");class ri{type;value;#l;_typedSymbol;constructor(t,e,n,r){null==r&&(r=null),ir(Qr,t,"Typed"),Yn(this,{_typedSymbol:ni,type:e,value:n}),this.#l=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#l}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#l?-1:!1===this.#l?this.value.length:null}static from(t,e){return new ri(Qr,t,e)}static uint8(t){return ti(t,8)}static uint16(t){return ti(t,16)}static uint24(t){return ti(t,24)}static uint32(t){return ti(t,32)}static uint40(t){return ti(t,40)}static uint48(t){return ti(t,48)}static uint56(t){return ti(t,56)}static uint64(t){return ti(t,64)}static uint72(t){return ti(t,72)}static uint80(t){return ti(t,80)}static uint88(t){return ti(t,88)}static uint96(t){return ti(t,96)}static uint104(t){return ti(t,104)}static uint112(t){return ti(t,112)}static uint120(t){return ti(t,120)}static uint128(t){return ti(t,128)}static uint136(t){return ti(t,136)}static uint144(t){return ti(t,144)}static uint152(t){return ti(t,152)}static uint160(t){return ti(t,160)}static uint168(t){return ti(t,168)}static uint176(t){return ti(t,176)}static uint184(t){return ti(t,184)}static uint192(t){return ti(t,192)}static uint200(t){return ti(t,200)}static uint208(t){return ti(t,208)}static uint216(t){return ti(t,216)}static uint224(t){return ti(t,224)}static uint232(t){return ti(t,232)}static uint240(t){return ti(t,240)}static uint248(t){return ti(t,248)}static uint256(t){return ti(t,256)}static uint(t){return ti(t,256)}static int8(t){return ti(t,-8)}static int16(t){return ti(t,-16)}static int24(t){return ti(t,-24)}static int32(t){return ti(t,-32)}static int40(t){return ti(t,-40)}static int48(t){return ti(t,-48)}static int56(t){return ti(t,-56)}static int64(t){return ti(t,-64)}static int72(t){return ti(t,-72)}static int80(t){return ti(t,-80)}static int88(t){return ti(t,-88)}static int96(t){return ti(t,-96)}static int104(t){return ti(t,-104)}static int112(t){return ti(t,-112)}static int120(t){return ti(t,-120)}static int128(t){return ti(t,-128)}static int136(t){return ti(t,-136)}static int144(t){return ti(t,-144)}static int152(t){return ti(t,-152)}static int160(t){return ti(t,-160)}static int168(t){return ti(t,-168)}static int176(t){return ti(t,-176)}static int184(t){return ti(t,-184)}static int192(t){return ti(t,-192)}static int200(t){return ti(t,-200)}static int208(t){return ti(t,-208)}static int216(t){return ti(t,-216)}static int224(t){return ti(t,-224)}static int232(t){return ti(t,-232)}static int240(t){return ti(t,-240)}static int248(t){return ti(t,-248)}static int256(t){return ti(t,-256)}static int(t){return ti(t,-256)}static bytes1(t){return ei(t,1)}static bytes2(t){return ei(t,2)}static bytes3(t){return ei(t,3)}static bytes4(t){return ei(t,4)}static bytes5(t){return ei(t,5)}static bytes6(t){return ei(t,6)}static bytes7(t){return ei(t,7)}static bytes8(t){return ei(t,8)}static bytes9(t){return ei(t,9)}static bytes10(t){return ei(t,10)}static bytes11(t){return ei(t,11)}static bytes12(t){return ei(t,12)}static bytes13(t){return ei(t,13)}static bytes14(t){return ei(t,14)}static bytes15(t){return ei(t,15)}static bytes16(t){return ei(t,16)}static bytes17(t){return ei(t,17)}static bytes18(t){return ei(t,18)}static bytes19(t){return ei(t,19)}static bytes20(t){return ei(t,20)}static bytes21(t){return ei(t,21)}static bytes22(t){return ei(t,22)}static bytes23(t){return ei(t,23)}static bytes24(t){return ei(t,24)}static bytes25(t){return ei(t,25)}static bytes26(t){return ei(t,26)}static bytes27(t){return ei(t,27)}static bytes28(t){return ei(t,28)}static bytes29(t){return ei(t,29)}static bytes30(t){return ei(t,30)}static bytes31(t){return ei(t,31)}static bytes32(t){return ei(t,32)}static address(t){return new ri(Qr,"address",t)}static bool(t){return new ri(Qr,"bool",!!t)}static bytes(t){return new ri(Qr,"bytes",t)}static string(t){return new ri(Qr,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new ri(Qr,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===ni}static dereference(t,e){if(ri.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class ii extends Vr{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let n=ri.dereference(e,"string");try{n=Zr(n)}catch(t){return this._throwError(t.message,e)}return t.writeValue(n)}decode(t){return Zr(Pr(t.readValue(),20))}}class si extends Vr{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function oi(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"==typeof n){let t={};r=e.map((e=>{const r=e.localName;return tr(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),tr(!t[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:n}),t[r]=!0,n[r]}))}else er(!1,"invalid tuple value","tuple",n);er(e.length===r.length,"types/value length mismatch","tuple",n);let i=new zr,s=new zr,o=[];e.forEach(((t,e)=>{let n=r[e];if(t.dynamic){let e=s.length;t.encode(s,n);let r=i.writeUpdatableValue();o.push((t=>{r(t+e)}))}else t.encode(i,n)})),o.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function ai(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach((e=>{let s=null;if(e.dynamic){let n=t.readIndex(),r=i.subReader(n);try{s=e.decode(r)}catch(t){if(Zn(t,"BUFFER_OVERRUN"))throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}}else try{s=e.decode(t)}catch(t){if(Zn(t,"BUFFER_OVERRUN"))throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}if(null==s)throw new Error("investigate");n.push(s),r.push(e.localName||null)})),Mr.fromItems(n,r)}class ui extends Vr{coder;length;constructor(t,e,n){super("array",t.type+"["+(e>=0?e:"")+"]",n,-1===e||t.dynamic),Yn(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let n=0;n<this.length;n++)e.push(t);return e}encode(t,e){const n=ri.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,t.writeValue(n.length)),nr(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let t=0;t<n.length;t++)i.push(this.coder);return oi(t,i,n)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),tr(e*Ur<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*Ur,length:t.dataLength}));let n=[];for(let t=0;t<e;t++)n.push(new si(this.coder));return ai(t,n)}}class ci extends Vr{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const n=ri.dereference(e,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class li extends Vr{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=ar(e);let n=t.writeValue(e.length);return n+=t.writeBytes(e),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class fi extends li{constructor(t){super("bytes",t)}decode(t){return lr(super.decode(t))}}class hi extends Vr{size;constructor(t,e){let n="bytes"+String(t);super(n,n,e,!1),Yn(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let n=ar(ri.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}decode(t){return lr(t.readBytes(this.size))}}const pi=new Uint8Array([]);class di extends Vr{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(pi)}decode(t){return t.readBytes(0),null}}const gi=BigInt(0),yi=BigInt(1),mi=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class bi extends Vr{size;signed;constructor(t,e,n){const r=(e?"int":"uint")+8*t;super(r,r,n,!1),Yn(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let n=kr(ri.dereference(e,this.type)),r=Tr(mi,256);if(this.signed){let t=Tr(r,8*this.size-1);(n>t||n<-(t+yi))&&this._throwError("value out-of-bounds",e),n=function(t,e){let n=kr(t,"value");const r=BigInt(Cr(e,"width")),i=Or<<r-Or;if(n<Ar)return n=-n,tr(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),(~n&(Or<<r)-Or)+Or;return tr(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),n}(n,256)}else(n<gi||n>Tr(r,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}decode(t){let e=Tr(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){const n=Sr(t,"value"),r=BigInt(Cr(e,"width"));if(tr(n>>r===Ar,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Or)return-((~n&(Or<<r)-Or)+Or);return n}(e,8*this.size)),e}}class wi extends li{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Er(ri.dereference(e,"string")))}decode(t){return xr(super.decode(t))}}class vi extends Vr{coders;constructor(t,e){let n=!1;const r=[];t.forEach((t=>{t.dynamic&&(n=!0),r.push(t.type)}));super("tuple","tuple("+r.join(",")+")",e,n),Yn(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const n=e.localName;return n&&(t[n]||(t[n]=0),t[n]++),t}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[r]))})),Object.freeze(t)}encode(t,e){const n=ri.dereference(e,"tuple");return oi(t,this.coders,n)}decode(t){return ai(t,this.coders)}}function Ei(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const xi=Ei("external public payable override".split(" ")),Ni="constant external internal payable private public pure view override",Ai=Ei(Ni.split(" ")),Oi="constructor error event fallback function receive struct",Ii=Ei(Oi.split(" ")),Ti="calldata memory storage payable indexed",ki=Ei(Ti.split(" ")),Si=Ei([Oi,Ti,"tuple returns",Ni].join(" ").split(" ")),Bi={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Ri=new RegExp("^(\\s*)"),Ci=new RegExp("^([0-9]+)"),Pi=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),_i=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ui=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class $i{#i;#f;get offset(){return this.#i}get length(){return this.#f.length-this.#i}constructor(t){this.#i=0,this.#f=t.slice()}clone(){return new $i(this.#f)}reset(){this.#i=0}#h(t=0,e=0){return new $i(this.#f.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#h(this.#i+1,t.match+1);return this.#i=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#i<t.match-1;){const t=this.peek().linkNext;e.push(this.#h(this.#i+1,t)),this.#i=t}return this.#i=t.match+1,e}peek(){if(this.#i>=this.#f.length)throw new Error("out-of-bounds");return this.#f[this.#i]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#i++,t}toString(){const t=[];for(let e=this.#i;e<this.#f.length;e++){const n=this.#f[e];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}}function ji(t){const e=[],n=e=>{const n=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${n} at ${s}: ${e}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(Ri);a&&(s+=a[1].length,o=t.substring(s));const u={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(u);let c=Bi[o[0]]||"";if(c){if(u.type=c,u.text=o[0],s++,"OPEN_PAREN"===c)r.push(e.length-1),i.push(e.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),u.match=r.pop(),e[u.match].match=e.length-1,u.depth--,u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1;else if("COMMA"===c)u.linkBack=i.pop(),e[u.linkBack].linkNext=e.length-1,i.push(e.length-1);else if("OPEN_BRACKET"===c)u.type="BRACKET";else if("CLOSE_BRACKET"===c){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const n=e.pop().text;t=n+t,e[e.length-1].value=Cr(n)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(a=o.match(Pi),a){if(u.text=a[1],s+=u.text.length,Si.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(Ui)){u.type="TYPE";continue}u.type="ID"}else{if(a=o.match(Ci),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);u.text=a[1],u.type="NUMBER",s+=u.text.length}}return new $i(e.map((t=>Object.freeze(t))))}function Fi(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Li(t,e){if(e.peekKeyword(Ii)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Mi(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(null==r||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Di(t){let e=Mi(t,Ai);return Fi(e,Ei("constant payable nonpayable".split(" "))),Fi(e,Ei("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Vi(t,e){return t.popParams().map((t=>ns.from(t,e)))}function zi(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return kr(t.pop().text);throw new Error("invalid gas")}return null}function Ji(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Gi=new RegExp(/^(.*)\[([0-9]*)\]$/);function qi(t){const e=t.match(Ui);if(er(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const n=parseInt(e[2]);er(0!==n&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);er(0!==n&&n<=256&&n%8==0,"invalid numeric width","type",t)}return t}const Wi={},Xi=Symbol.for("_ethers_internal"),Ki="_ParamTypeInternal",Yi="_ErrorInternal",Hi="_EventInternal",Zi="_ConstructorInternal",Qi="_FallbackInternal",ts="_FunctionInternal",es="_StructInternal";class ns{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,n,r,i,s,o,a){if(ir(t,Wi,"ParamType"),Object.defineProperty(this,Xi,{value:Ki}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");Yn(this,{name:e,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(n)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map((t=>n.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map(((t,r)=>n.components[r].walk(t,e)))}return e(this.type,t)}#p(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=e.slice();return s.forEach(((e,r)=>{i.#p(t,e,n,(t=>{s[r]=t}))})),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(e))s=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");s=i.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((e,r)=>{i[r].#p(t,e,n,(t=>{s[r]=t}))})),void r(s)}const i=n(this.type,e);i.then?t.push(async function(){r(await i)}()):r(i)}async walkAsync(t,e){const n=[],r=[t];return this.#p(n,t,e,(t=>{r[0]=t})),n.length&&await Promise.all(n),r[0]}static from(t,e){if(ns.isParamType(t))return t;if("string"==typeof t)try{return ns.from(ji(t),e)}catch(e){er(!1,"invalid param type","obj",t)}else if(t instanceof $i){let n="",r="",i=null;Mi(t,Ei(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(r="tuple",i=t.popParams().map((t=>ns.from(t))),n=`tuple(${i.map((t=>t.format())).join(",")})`):(n=qi(t.popType("TYPE")),r=n);let s=null,o=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();s=new ns(Wi,"",n,r,null,i,o,s),o=e.value,n+=e.text,r="array",i=null}let a=null;if(Mi(t,ki).has("indexed")){if(!e)throw new Error("");a=!0}const u=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ns(Wi,u,n,r,a,i,o,s)}const n=t.name;er(!n||"string"==typeof n&&n.match(_i),"invalid name","obj.name",n);let r=t.indexed;null!=r&&(er(e,"parameter cannot be indexed","obj.indexed",t.indexed),r=!!r);let i=t.type,s=i.match(Gi);if(s){const e=parseInt(s[2]||"-1"),o=ns.from({type:s[1],components:t.components});return new ns(Wi,n||"",i,"array",r,null,e,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const e=null!=t.components?t.components.map((t=>ns.from(t))):null;return new ns(Wi,n||"",i,"tuple",r,e,null,null)}return i=qi(t.type),new ns(Wi,n||"",i,i,r,null,null,null)}static isParamType(t){return t&&t[Xi]===Ki}}class rs{type;inputs;constructor(t,e,n){ir(t,Wi,"Fragment"),Yn(this,{type:e,inputs:n=Object.freeze(n.slice())})}static from(t){if("string"==typeof t){try{rs.from(JSON.parse(t))}catch(t){}return rs.from(ji(t))}if(t instanceof $i){switch(t.peekKeyword(Ii)){case"constructor":return us.from(t);case"error":return os.from(t);case"event":return as.from(t);case"fallback":case"receive":return cs.from(t);case"function":return ls.from(t);case"struct":return fs.from(t)}}else if("object"==typeof t){switch(t.type){case"constructor":return us.from(t);case"error":return os.from(t);case"event":return as.from(t);case"fallback":case"receive":return cs.from(t);case"function":return ls.from(t);case"struct":return fs.from(t)}tr(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}er(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return us.isFragment(t)}static isError(t){return os.isFragment(t)}static isEvent(t){return as.isFragment(t)}static isFunction(t){return ls.isFragment(t)}static isStruct(t){return fs.isFragment(t)}}class is extends rs{name;constructor(t,e,n,r){super(t,e,r),er("string"==typeof n&&n.match(_i),"invalid identifier","name",n),r=Object.freeze(r.slice()),Yn(this,{name:n})}}function ss(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class os extends is{constructor(t,e,n){super(t,"error",e,n),Object.defineProperty(this,Xi,{value:Yi})}get selector(){return Nr(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+ss(t,this.inputs)),e.join(" ")}static from(t){if(os.isFragment(t))return t;if("string"==typeof t)return os.from(ji(t));if(t instanceof $i){const e=Li("error",t),n=Vi(t);return Ji(t),new os(Wi,e,n)}return new os(Wi,t.name,t.inputs?t.inputs.map(ns.from):[])}static isFragment(t){return t&&t[Xi]===Yi}}class as extends is{anonymous;constructor(t,e,n,r){super(t,"event",e,n),Object.defineProperty(this,Xi,{value:Hi}),Yn(this,{anonymous:r})}get topicHash(){return Nr(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+ss(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>ns.from(t)));return new as(Wi,t,e,!1).topicHash}static from(t){if(as.isFragment(t))return t;if("string"==typeof t)try{return as.from(ji(t))}catch(e){er(!1,"invalid event fragment","obj",t)}else if(t instanceof $i){const e=Li("event",t),n=Vi(t,!0),r=!!Mi(t,Ei(["anonymous"])).has("anonymous");return Ji(t),new as(Wi,e,n,r)}return new as(Wi,t.name,t.inputs?t.inputs.map((t=>ns.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[Xi]===Hi}}class us extends rs{payable;gas;constructor(t,e,n,r,i){super(t,e,n),Object.defineProperty(this,Xi,{value:Zi}),Yn(this,{payable:r,gas:i})}format(t){if(tr(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${ss(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(us.isFragment(t))return t;if("string"==typeof t)try{return us.from(ji(t))}catch(e){er(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof $i){Mi(t,Ei(["constructor"]));const e=Vi(t),n=!!Mi(t,xi).has("payable"),r=zi(t);return Ji(t),new us(Wi,"constructor",e,n,r)}return new us(Wi,"constructor",t.inputs?t.inputs.map(ns.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Xi]===Zi}}class cs extends rs{payable;constructor(t,e,n){super(t,"fallback",e),Object.defineProperty(this,Xi,{value:Qi}),Yn(this,{payable:n})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(cs.isFragment(t))return t;if("string"==typeof t)try{return cs.from(ji(t))}catch(e){er(!1,"invalid fallback fragment","obj",t)}else if(t instanceof $i){const e=t.toString();er(t.peekKeyword(Ei(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(Ei(["fallback","receive"]))){const e=Vi(t);return er(0===e.length,"receive cannot have arguments","obj.inputs",e),Mi(t,Ei(["payable"])),Ji(t),new cs(Wi,[],!0)}let n=Vi(t);n.length?er(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((t=>t.format("minimal"))).join(", ")):n=[ns.from("bytes")];const r=Di(t);if(er("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),Mi(t,Ei(["returns"])).has("returns")){const e=Vi(t);er(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return Ji(t),new cs(Wi,n,"payable"===r)}if("receive"===t.type)return new cs(Wi,[],!0);if("fallback"===t.type){const e=[ns.from("bytes")],n="payable"===t.stateMutability;return new cs(Wi,e,n)}er(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Xi]===Qi}}class ls extends is{constant;outputs;stateMutability;payable;gas;constructor(t,e,n,r,i,s){super(t,"function",e,r),Object.defineProperty(this,Xi,{value:ts});Yn(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Nr(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+ss(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(ss(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>ns.from(t)));return new ls(Wi,t,"view",e,[],null).selector}static from(t){if(ls.isFragment(t))return t;if("string"==typeof t)try{return ls.from(ji(t))}catch(e){er(!1,"invalid function fragment","obj",t)}else if(t instanceof $i){const e=Li("function",t),n=Vi(t),r=Di(t);let i=[];Mi(t,Ei(["returns"])).has("returns")&&(i=Vi(t));const s=zi(t);return Ji(t),new ls(Wi,e,r,n,i,s)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new ls(Wi,t.name,e,t.inputs?t.inputs.map(ns.from):[],t.outputs?t.outputs.map(ns.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Xi]===ts}}class fs extends is{constructor(t,e,n){super(t,"struct",e,n),Object.defineProperty(this,Xi,{value:es})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return fs.from(ji(t))}catch(e){er(!1,"invalid struct fragment","obj",t)}else if(t instanceof $i){const e=Li("struct",t),n=Vi(t);return Ji(t),new fs(Wi,e,n)}return new fs(Wi,t.name,t.inputs?t.inputs.map(ns.from):[])}static isFragment(t){return t&&t[Xi]===es}}const hs=new Map;hs.set(0,"GENERIC_PANIC"),hs.set(1,"ASSERT_FALSE"),hs.set(17,"OVERFLOW"),hs.set(18,"DIVIDE_BY_ZERO"),hs.set(33,"ENUM_RANGE_ERROR"),hs.set(34,"BAD_STORAGE_DATA"),hs.set(49,"STACK_UNDERFLOW"),hs.set(50,"ARRAY_RANGE_ERROR"),hs.set(65,"OUT_OF_MEMORY"),hs.set(81,"UNINITIALIZED_FUNCTION_CALL");const ps=new RegExp(/^bytes([0-9]*)$/),ds=new RegExp(/^(u?int)([0-9]*)$/);let gs=null,ys=1024;class ms{#d(t){if(t.isArray())return new ui(this.#d(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new vi(t.components.map((t=>this.#d(t))),t.name);switch(t.baseType){case"address":return new ii(t.name);case"bool":return new ci(t.name);case"string":return new wi(t.name);case"bytes":return new fi(t.name);case"":return new di(t.name)}let e=t.type.match(ds);if(e){let n=parseInt(e[2]||"256");return er(0!==n&&n<=256&&n%8==0,"invalid "+e[1]+" bit length","param",t),new bi(n/8,"int"===e[1],t.name)}if(e=t.type.match(ps),e){let n=parseInt(e[1]);return er(0!==n&&n<=32,"invalid bytes length","param",t),new hi(n,t.name)}er(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#d(ns.from(t))));return new vi(e,"_").defaultValue()}encode(t,e){nr(e.length,t.length,"types/values length mismatch");const n=t.map((t=>this.#d(ns.from(t)))),r=new vi(n,"_"),i=new zr;return r.encode(i,e),i.data}decode(t,e,n){const r=t.map((t=>this.#d(ns.from(t))));return new vi(r,"_").decode(new Jr(e,n,ys))}static _setDefaultMaxInflation(t){er("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),ys=t}static defaultAbiCoder(){return null==gs&&(gs=new ms),gs}static getBuiltinCallException(t,e,n){return function(t,e,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const t=or(n);if(n=lr(n),0===t.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(t.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===lr(t.slice(0,4)))try{s=r.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(t){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===lr(t.slice(0,4)))try{const e=Number(r.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},s=`Panic due to ${hs.get(e)||"UNKNOWN"}(${e})`,i+=`: ${s}`}catch(t){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:e.to?Zr(e.to):null,data:e.data||"0x"};return e.from&&(a.from=Zr(e.from)),Qn(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:a,invocation:null,revert:o})}(t,e,n,ms.defaultAbiCoder())}}class bs{fragment;name;signature;topic;args;constructor(t,e,n){const r=t.name,i=t.format();Yn(this,{fragment:t,name:r,signature:i,topic:e,args:n})}}class ws{fragment;name;args;signature;selector;value;constructor(t,e,n,r){const i=t.name,s=t.format();Yn(this,{fragment:t,name:i,args:n,signature:s,selector:e,value:r})}}class vs{fragment;name;args;signature;selector;constructor(t,e,n){const r=t.name,i=t.format();Yn(this,{fragment:t,name:r,args:n,signature:i,selector:e})}}class Es{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){Yn(this,{hash:t,_isIndexed:!0})}}const xs={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Ns={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&xs[t.toString()]&&(e=xs[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class As{fragments;deploy;fallback;receive;#g;#y;#m;#b;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#m=new Map,this.#g=new Map,this.#y=new Map;const n=[];for(const t of e)try{n.push(rs.from(t))}catch(e){console.log(`[Warning] Invalid Fragment ${JSON.stringify(t)}:`,e.message)}Yn(this,{fragments:Object.freeze(n)});let r=null,i=!1;this.#b=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let n;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void Yn(this,{deploy:t});case"fallback":return void(0===t.inputs.length?i=!0:(er(!r||t.payable!==r.payable,"conflicting fallback fragments",`fragments[${e}]`,t),r=t,i=r.payable));case"function":n=this.#m;break;case"event":n=this.#y;break;case"error":n=this.#g;break;default:return}const s=t.format();n.has(s)||n.set(s,t)})),this.deploy||Yn(this,{deploy:us.from("constructor()")}),Yn(this,{fallback:r,receive:i})}format(t){const e=t?"minimal":"full";return this.fragments.map((t=>t.format(e)))}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return ms.defaultAbiCoder()}#w(t,e,n){if(ur(t)){const e=t.toLowerCase();for(const t of this.#m.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const r=[];for(const[e,n]of this.#m)e.split("(")[0]===t&&r.push(n);if(e){const t=e.length>0?e[e.length-1]:null;let n=e.length,i=!0;ri.isTyped(t)&&"overrides"===t.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let t=r.length-1;t>=0;t--){const n=r[t].inputs;for(let i=0;i<e.length;i++)if(ri.isTyped(e[i])){if(i>=n.length){if("overrides"===e[i].type)continue;r.splice(t,1);break}if(e[i].type!==n[i].baseType){r.splice(t,1);break}}}}if(1===r.length&&e&&e.length!==r[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){er(!1,`ambiguous function description (i.e. matches ${r.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return r[0]}const r=this.#m.get(ls.from(t).format());return r||null}getFunctionName(t){const e=this.#w(t,null,!1);return er(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#w(t,null,!1)}getFunction(t,e){return this.#w(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#m.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#m.get(r),n)}}#v(t,e,n){if(ur(t)){const e=t.toLowerCase();for(const t of this.#y.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const r=[];for(const[e,n]of this.#y)e.split("(")[0]===t&&r.push(n);if(e){for(let t=r.length-1;t>=0;t--)r[t].inputs.length<e.length&&r.splice(t,1);for(let t=r.length-1;t>=0;t--){const n=r[t].inputs;for(let i=0;i<e.length;i++)if(ri.isTyped(e[i])&&e[i].type!==n[i].baseType){r.splice(t,1);break}}}if(0===r.length)return null;if(r.length>1&&n){er(!1,`ambiguous event description (i.e. matches ${r.map((t=>JSON.stringify(t.format()))).join(", ")})`,"key",t)}return r[0]}const r=this.#y.get(as.from(t).format());return r||null}getEventName(t){const e=this.#v(t,null,!1);return er(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#v(t,null,!1)}getEvent(t,e){return this.#v(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#y.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#y.get(r),n)}}getError(t,e){if(ur(t)){const e=t.toLowerCase();if(Ns[e])return os.from(Ns[e].signature);for(const t of this.#g.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[n,r]of this.#g)n.split("(")[0]===t&&e.push(r);if(0===e.length)return"Error"===t?os.from("error Error(string)"):"Panic"===t?os.from("error Panic(uint256)"):null;if(e.length>1){er(!1,`ambiguous error description (i.e. ${e.map((t=>JSON.stringify(t.format()))).join(", ")})`,"name",t)}return e[0]}if("Error(string)"===(t=os.from(t).format()))return os.from("error Error(string)");if("Panic(uint256)"===t)return os.from("error Panic(uint256)");const n=this.#g.get(t);return n||null}forEachError(t){const e=Array.from(this.#g.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let n=0;n<e.length;n++){const r=e[n];t(this.#g.get(r),n)}}_decodeParams(t,e){return this.#b.decode(t,e)}_encodeParams(t,e){return this.#b.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);er(e,"unknown error","fragment",t),t=e}return er(hr(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,hr(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);er(e,"unknown error","fragment",t),t=e}return fr([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);er(e,"unknown function","fragment",t),t=e}return er(hr(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,hr(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);er(e,"unknown function","fragment",t),t=e}return fr([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);er(e,"unknown function","fragment",t),t=e}let n="invalid length for result data";const r=ar(e);if(r.length%32==0)try{return this.#b.decode(t.outputs,r)}catch(t){n="could not decode result data"}tr(!1,n,"BAD_DATA",{value:lr(r),info:{method:t.name,signature:t.format()}})}makeError(t,e){const n=or(t,"data"),r=ms.getBuiltinCallException("call",e,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const t=lr(n.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#b.decode(e.inputs,n.slice(4));r.revert={name:e.name,signature:e.format(),args:t},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(t){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(e);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);er(e,"unknown function","fragment",t),t=e}return lr(this.#b.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);er(e,"unknown event","eventFragment",t),t=e}tr(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const r=(t,e)=>"string"===t.type?Nr(e):"bytes"===t.type?mr(lr(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=Pr(e):t.type.match(/^bytes/)?e=pr(e,32,!1):"address"===t.type&&this.#b.encode(["address"],[e]),function(t,e){return pr(t,e,!0)}(lr(e),32));for(e.forEach(((e,i)=>{const s=t.inputs[i];s.indexed?null==e?n.push(null):"array"===s.baseType||"tuple"===s.baseType?er(!1,"filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?n.push(e.map((t=>r(s,t)))):n.push(r(s,e)):er(null==e,"cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);er(e,"unknown event","eventFragment",t),t=e}const n=[],r=[],i=[];return t.anonymous||n.push(t.topicHash),er(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)n.push(Nr(o));else if("bytes"===t.type)n.push(mr(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(this.#b.encode([t.type],[o]))}else r.push(t),i.push(o)})),{data:this.#b.encode(r,i),topics:n}}decodeEventLog(t,e,n){if("string"==typeof t){const e=this.getEvent(t);er(e,"unknown event","eventFragment",t),t=e}if(null!=n&&!t.anonymous){const e=t.topicHash;er(ur(n[0],32)&&n[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(r.push(ns.from({type:"bytes32",name:t.name})),s.push(!0)):(r.push(t),s.push(!1)):(i.push(t),s.push(!1))}));const o=null!=n?this.#b.decode(r,fr(n)):null,a=this.#b.decode(i,e,!0),u=[],c=[];let l=0,f=0;return t.inputs.forEach(((t,e)=>{let n=null;if(t.indexed)if(null==o)n=new Es(null);else if(s[e])n=new Es(o[f++]);else try{n=o[f++]}catch(t){n=t}else try{n=a[l++]}catch(t){n=t}u.push(n),c.push(t.name||null)})),Mr.fromItems(u,c)}parseTransaction(t){const e=or(t.data,"tx.data"),n=kr(null!=t.value?t.value:0,"tx.value"),r=this.getFunction(lr(e.slice(0,4)));if(!r)return null;const i=this.#b.decode(r.inputs,e.slice(4));return new ws(r,r.selector,i,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new bs(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=lr(t),n=this.getError(hr(e,0,4));if(!n)return null;const r=this.#b.decode(n.inputs,hr(e,4));return new vs(n,n.selector,r)}static from(t){return t instanceof As?t:"string"==typeof t?new As(JSON.parse(t)):"function"==typeof t.formatJson?new As(t.formatJson()):"function"==typeof t.format?new As(t.format("json")):new As(t)}}const Os={ui:{dates:{late:-7,ok:0}},chain:{geniDecimals:9,shareDecimals:18,blockIdentifier:"latest",contracts:{miners:{address:"0x4444444ffA9bD8AF854Ea4E353756b06472F4444",abi:[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getMiners",outputs:[{components:[{internalType:"bool",name:"policy",type:"bool"},{internalType:"bool",name:"auctioned",type:"bool"},{internalType:"bool",name:"exodus",type:"bool"},{internalType:"uint16",name:"startDay",type:"uint16"},{internalType:"uint16",name:"promiseDays",type:"uint16"},{internalType:"uint16",name:"lemClaimDay",type:"uint16"},{internalType:"uint88",name:"rewardShares",type:"uint88"},{internalType:"uint96",name:"penaltyDelta",type:"uint96"},{internalType:"bool",name:"nonTransferable",type:"bool"},{internalType:"uint40",name:"ended",type:"uint40"},{internalType:"uint64",name:"principal",type:"uint64"},{internalType:"uint96",name:"debtIssueRate",type:"uint96"}],internalType:"struct Miners.Miner[]",name:"miners",type:"tuple[]"}],stateMutability:"view",type:"function"}]},calendar:{address:"0x44444489FA9588870d4e06003B516d54A2af4444",abi:[{inputs:[{internalType:"uint256",name:"startDay",type:"uint256"},{internalType:"uint256",name:"lastServedDay",type:"uint256"},{internalType:"bool",name:"minerPolicy",type:"bool"}],name:"minerTotalPps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentGeniusDay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}]}}}};function Is(t,e){return Number((t*e/Math.pow(10,Os.chain.geniDecimals)).toFixed(2))}function Ts(t,e){return(100*t/e).toFixed(2)}function ks(t){let e;switch(!0){case t>=Os.ui.dates.ok:e=["",t,"left"].join(" ");break;case t<=Os.ui.dates.late:e=["",t,"late"].join(" ");break;default:e=["",t,"grace"].join(" ")}return e}async function Ss(t,e,n){return await snap.request({method:"snap_notify",params:{type:"inApp",message:`${t} ${e}, ${n}`}})}const Bs=async(t,e,n)=>{const r=[t,e,n];console.log(r);const i=new As(Os.chain.contracts.calendar.abi),s=i.encodeFunctionData("minerTotalPps(uint256,uint256,bool)",r);console.warn(s);const o=await ethereum.request({method:"eth_call",params:[{to:Os.chain.contracts.calendar.address,data:s},Os.chain.blockIdentifier]});console.warn(o);const a=i.decodeFunctionResult("minerTotalPps",o);return Number(a[0])};let Rs,Cs=0;const Ps=async()=>{let t="";try{Rs=await ethereum.request({method:"eth_requestAccounts"}),console.debug(Rs),null!=Rs&&(t=await async function(t){return await snap.request({method:"snap_createInterface",params:{ui:Ce([ue("Hi fellow Genius!"),Ne("We would like to show you a quick summary of your miners for the following account:"),ie(Ne(t)),Ne("If all is good, please continue. It should be a snap!"),me({value:"View Miners",name:"re-acct-btn",buttonType:"button"}),me({value:"View Guide",variant:"secondary",name:"re-legend-btn",buttonType:"button"}),oe(),Ne("To learn more about your miners visit [Genius dApp](https://start.geni.app)"),oe(),Ne("_Brought to you by [Geni.best](https://geni.best)_ ")])}})}("0x95c4081fe47ad81052982c020d4fcc3e00d6e657"))}catch(t){console.log(t),await Ss("","Account Request",t)}return{id:t}},_s=async({id:t,event:e})=>{if(console.debug(`id: ${t}, event: ${JSON.stringify(e)}`),e.type===De.ButtonClickEvent&&("re-legend-btn"===e.name&&await async function(){return await snap.request({method:"snap_dialog",params:{type:"alert",content:Ce([ue("Miner Information Legend"),oe(),Ne("-Principal (Geni)"),Ne("-IQ-Shares (Share #)"),Ne("-Start day"),Ne("-Promise days"),Ne("-Ending day"),Ne("-Earned (Geni)"),Ne("-Miner in good standing"),Ne("-Miner is in grace period"),Ne("-Miner is late"),oe(),Ne({value:"_Example : 50, :500, : 550, : 400, : 10000,  125 days left_",markdown:!0}),Ne("Miner locked 10000 Geni, received 400 shares, started on day *50*, promised to run for *500* days, and ends on day *550*. It is in good standing, and ends in 125 days.")])}})}(),"re-acct-btn"===e.name)){await async function(t){return await snap.request({method:"snap_updateInterface",params:{id:t,ui:Ce([Ne({value:"Fetching miners"}),Se()])}})}(t),Cs=await(async()=>{const t="getCurrentGeniusDay",e=new As(Os.chain.contracts.calendar.abi),n=e.encodeFunctionData(t,[]),r=await ethereum.request({method:"eth_call",params:[{to:Os.chain.contracts.calendar.address,data:n},Os.chain.blockIdentifier]});try{const n=e.decodeFunctionResult(t,r);return Number(n[0])}catch(t){return console.error("error: ",t),await Ss("","Chain: Genius Day",t),Number(0)}})();const e=await(async t=>{const e="getMiners(address)",n=[t],r=new As(Os.chain.contracts.miners.abi),i=r.encodeFunctionData(e,n),s=await ethereum.request({method:"eth_call",params:[{to:Os.chain.contracts.miners.address,data:i},Os.chain.blockIdentifier]});try{return r.decodeFunctionResult(e,s).toArray()}catch(t){console.error("error: ",t),await Ss("","Chain: Genius Day",t)}return[]})(Rs[0]);if(e.toString().length>0){const t=await async function(t,e){const n=[];n.push(ue(` Genius Day: ${t}`)),n.push(oe());for(const r of e[0]){const e=r.toString().split(",");if(console.log(e),"true"===e[1]||"0"!==e[9]||"true"===r[2])continue;const i="true"===e[0],s=Number(e[10])/Math.pow(10,Os.chain.geniDecimals),o=Number(e[6])/Math.pow(10,Os.chain.shareDecimals),a=Number(e[3]),u=Number(e[4]),c=a+u;try{const e=ks(a+u-t),r=Is(o,await Bs(a,t-1,i)),l=Ts(r,s),f=Te({label:`Days::${a}|:${u}|:${c}|${e}|\n        :${s.toLocaleString()} Geni|:${o.toLocaleString()}`,value:Ne({value:`Earned :**${r.toLocaleString()}** Geni @ ROI: _${l.toLocaleUpperCase()}%_`,markdown:!0})});n.push(f),n.push(oe())}catch(t){console.error(t)}}return n}(Cs,e);await async function(t){return await snap.request({method:"snap_dialog",params:{type:"alert",content:Ce([...t])}})}(t)}else await async function(){return await snap.request({method:"snap_dialog",params:{type:"alert",content:Ce([Ne("No miners found for account. Check your settings or create some miners!")])}})}()}},Us=async()=>{await async function(){return await snap.request({method:"snap_dialog",params:{type:"alert",content:Ce([ue("Installation successful"),Ne("The Genius Miners snap was installed successfully.")])}})}()},$s=async()=>{await async function(){return await snap.request({method:"snap_dialog",params:{type:"alert",content:Ce([ue("Update successful"),Ne("The Genius Miners snap was updated successfully."),Ne("New features added in this version: icons")])}})}()}})();var i=exports;for(var s in r)i[s]=r[s];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();